/* 
 * WinJS Contrib v2.0.1.0
 * licensed under MIT license (see http://opensource.org/licenses/MIT)
 * sources available at https://github.com/gleborgne/winjscontrib
 */

!function(){"use strict";var t=WinJS.Class.define(function(t){this._ctrl=t,t.element.mcnSemanticZoomView=!0,this._layout="horizontal"},{layout:{get:function(){return this._layout||(this._layout="horizontal"),this._layout},set:function(t){this._layout=t}},getPanAxis:function(){return this._ctrl._getPanAxis?this._ctrl._getPanAxis():this.layout},configureForZoom:function(t,i,e,n){this.isZoomedOut=t,this.isCurrentView=i,this.triggerZoom=e,this.prefetchedPages=n,this._ctrl._configureForZoom&&this._ctrl._configureForZoom(t,i,e,n)},setCurrentItem:function(t,i){this._ctrl._setCurrentItem&&this._ctrl._setCurrentItem(t,i)},getCurrentItem:function(){if(this._ctrl._getCurrentItem)return this._ctrl._getCurrentItem();var t=this.currentZoomItem;return WinJS.Promise.wrap({item:t,position:{left:0,top:0,width:0,height:0}})},beginZoom:function(){this._ctrl._beginZoom&&this._ctrl._beginZoom()},positionItem:function(t,i){return this._ctrl._positionItem?this._ctrl._positionItem(t,i):this._ctrl.onSemanticZoom?this._ctrl.onSemanticZoom(t,i):WinJS.Promise.wrap({x:0,y:0})},endZoom:function(t){this._ctrl._endZoom&&this._ctrl._endZoom(t)},handlePointer:function(t){this._ctrl._handlePointer&&this._ctrl._handlePointer(t)},selectItem:function(t){this.currentZoomItem=t;for(var i=this._ctrl.element.parentNode,e=null;i;){if(i.winControl&&i.winControl._zoomFromCurrent){e=i.winControl;break}i=i.parentNode}e&&e._zoomFromCurrent(!1)}});WinJS.Namespace.define("WinJSContrib.UI",{parentSemancticZoomView:function(t){for(var i=t.parentNode;i;){if(i.mcnSemanticZoomView)return i.winControl;i=i.parentNode}},SemanticZoomMixin:WinJS.Namespace._lazy(function(){return{_initSemanticZoom:function(){this._zoomableView=new t(this)},zoomableView:{get:function(){return this._zoomableView||(this._zoomableView=new t(this)),this._zoomableView}},selectZoomItem:function(t){this.zoomableView.selectItem(t)}}})}),WinJS.Namespace.define("WinJSContrib.UI",{SemanticZoomWrapper:WinJS.Class.mix(WinJS.Class.define(function(t){this.element=t,this.element.winControl=this,this._initSemanticZoom()},{}),WinJS.UI.DOMEventMixin,WinJSContrib.UI.SemanticZoomMixin)})}();