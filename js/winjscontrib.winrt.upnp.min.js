/* 
 * WinJS Contrib v2.1.0.0
 * licensed under MIT license (see http://opensource.org/licenses/MIT)
 * sources available at https://github.com/gleborgne/winjscontrib
 */

var WinJSContrib=WinJSContrib||{};WinJSContrib.UPnP=WinJSContrib.UPnP||{},function(e){function t(e,t){return e.indexOf(t)==e.length-t.length}function n(e){var t={};if(1==e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var r=0;r<e.attributes.length;r++){var i=e.attributes.item(r);t["@attributes"][i.nodeName]=i.nodeValue}}}else 3==e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes()){for(var s=0,o=0;o<e.childNodes.length;o++){var a=e.childNodes.item(o),u=a.nodeName;if("undefined"==typeof t[u]){var p=n(a),c=u.indexOf(":");if(c>0)var l=u.substr(c+1,u.length-c-1);l&&!t[l]?t[l]=p:t[u]=p,s++}else{if("undefined"==typeof t[u].push){var y=t[u];t[u]=[],t[u].push(y)}t[u].push(n(a)),s++}}t["#text"]&&"string"==typeof t["#text"]&&(t["#text"]=t["#text"].trim()),1==s&&t["#text"]&&"string"==typeof t["#text"]&&(t=t["#text"])}for(var h in t["@attributes"])t[h]||(t[h]=t["@attributes"][h]);return t}function r(e){return(new DOMParser).parseFromString(e,"text/xml")}function i(e){for(var t="",n=!0,r=32;r>0;){r-=4;var i=e>>r&15;n&&0==i||(n=!1,t+=S[i])}return""==t?"0":t}function s(e,t,n){for(var r=e,i=e.length;t>i;i++)r=n+r;return r}function o(e){return e=e.toString(16),1==e.length&&(e="0"+e),e="%"+e,unescape(e)}function a(e){e=e.toUpperCase().replace(new RegExp("s/[^0-9A-Z]//g"));for(var t="",n="",r=0;r<e.length;r++)n+=e.charAt(r),2==n.length&&(t+=o(parseInt(n,16)),n="");return t}function u(e){for(var t="",n=0;n<e.length;n++)t+=s(i(255&e.charCodeAt(n)),2,"0");return t}function p(e){return e.replace(/^([+-])?(\d+).?(\d*)[eE]([-+]?\d+)$/,function(e,t,n,r,i){var s=0>+i,o=n.length+ +i,e=(s?n:r).length,i=(i=Math.abs(i))>=e?i-e+s:0,a=new Array(i+1).join("0"),u=n+r;return(t||"")+(s?u=a+u:u+=a).substr(0,o+=s?a.length:0)+(o<u.length?"."+u.substr(o):"")})}WinJSContrib.UPnP.deviceTypes={ContentDirectory1:"urn:schemas-upnp-org:service:ContentDirectory:1",ContentDirectory2:"urn:schemas-upnp-org:service:ContentDirectory:2",ContentDirectory3:"urn:schemas-upnp-org:service:ContentDirectory:3",ContentDirectory4:"urn:schemas-upnp-org:service:ContentDirectory:4",MediaRenderer1:"urn:schemas-upnp-org:device:MediaRenderer:1",MediaRenderer2:"urn:schemas-upnp-org:device:MediaRenderer:2",MediaRenderer3:"urn:schemas-upnp-org:device:MediaRenderer:3",MediaRenderer4:"urn:schemas-upnp-org:device:MediaRenderer:4",MediaServer1:"urn:schemas-upnp-org:device:MediaServer:1",MediaServer2:"urn:schemas-upnp-org:device:MediaServer:2",MediaServer3:"urn:schemas-upnp-org:device:MediaServer:3",MediaServer4:"urn:schemas-upnp-org:device:MediaServer:4",AVTransport1:"urn:schemas-upnp-org:service:AVTransport:1",AVTransport2:"urn:schemas-upnp-org:service:AVTransport:2",ConnectionManager1:"urn:schemas-upnp-org:service:ConnectionManager:1",ConnectionManager2:"urn:schemas-upnp-org:service:ConnectionManager:2",ConnectionManager3:"urn:schemas-upnp-org:service:ConnectionManager:3"},WinJSContrib.UPnP.devicesDiscovery=function(e,t,r){function i(e){var t=u.filter(function(t){return e==t.deviceDescriptionUrl});return t.length>0}function s(e){return new WinJS.Promise(function(s,a){function p(){try{l&&l.close()}catch(e){}s(u)}function c(e){try{l&&l.close()}catch(t){}a(e)}var l=new Windows.Networking.Sockets.DatagramSocket;l.onmessagereceived=function(e){var r=e.getDataReader(),s=r.unconsumedBufferLength,o=r.readString(s),a=!1;if(o){var p=o.split("\n");p.forEach(function(e){if(!a&&0==e.toLowerCase().indexOf("location:")){var r=e.substr(9,e.length-9);a=!0,i(r)||WinJS.xhr({url:r}).then(function(e){var s=n(e.responseXML),o=s.root.device;o.deviceDescriptionUrl=r,o.rootUrl=r.substr(0,r.indexOf("/",8)),i(r)||u.push(new WinJSContrib.UPnP.UPnPDevice(o)),t&&t(o,r)},function(e){console.error("calling device failed"),console.error(e)})}})}},l.getOutputStreamAsync(o,"1900").then(function(t){var n="M-SEARCH * HTTP/1.1\r\nHOST: 239.255.255.250:1900\r\nST:"+(e||"upnp:rootdevice")+'\r\nMAN:"ssdp:discover"\r\nMX:3\r\n\r\n',r=new Windows.Storage.Streams.DataWriter(t);return r.unicodeEncoding=Windows.Storage.Streams.UnicodeEncoding.Utf8,r.writeString(n),r.storeAsync()}).then(function(){return WinJS.Promise.timeout(r||2e4)}).then(p,c)}).then(function(){p.hasError=!1},function(e){p.hasError=!0,p.error=e})}var o;try{o=new Windows.Networking.HostName("239.255.255.250")}catch(a){return void error({message:"Invalid host name."})}var u=new WinJS.Binding.List,p={devices:u,hasError:null,promise:null},c=[];if(e&&"string"!=typeof e){if(e&&"string"!=typeof e&&e.length)for(var l=0;l<e.length;l++)c.push(s(e[l]))}else c.push(s(e));return p.promise=WinJS.Promise.join(c),p},WinJSContrib.UPnP.getContentType=function(e,n){var r=e.toLowerCase();return"mp3"==n||t(r,".mp3")?"audio/mp3":"mp4"==n||t(r,".mp4")?"video/mp4":"avi"==n||t(r,".avi")?"video/avi":"mkv"==n||t(r,".mkv")?"video/x-matroska":void 0},WinJSContrib.UPnP.UPnPDevice=function(e){for(var t in e)this[t]=e[t]},WinJSContrib.UPnP.UPnPDevice.prototype.getService=function(e){var t=this,n=null;return"string"==typeof e&&(e=[e]),t.serviceList&&t.serviceList.service&&(n=t.serviceList.service.filter(function(t){return e.indexOf(t.serviceType)>=0})[0],!n&&t.deviceList&&t.deviceList.device.forEach(function(t){var r=t.serviceList.service.filter(function(t){return e.indexOf(t.serviceType)>=0})[0];r&&(n=r)})),n&&(n.rootUrl=t.rootUrl,n.url=t.rootUrl+n.controlURL),n},WinJSContrib.UPnP.UPnPDevice.prototype.getAVTransport=function(){var e=this.getService([WinJSContrib.UPnP.deviceTypes.AVTransport1,WinJSContrib.UPnP.deviceTypes.AVTransport2]);return e?new WinJSContrib.UPnP.UPnPAVTransport(e):void 0},WinJSContrib.UPnP.UPnPDevice.prototype.getContentDirectory=function(){var e=this.getService([WinJSContrib.UPnP.deviceTypes.ContentDirectory1,WinJSContrib.UPnP.deviceTypes.ContentDirectory2,WinJSContrib.UPnP.deviceTypes.ContentDirectory3,WinJSContrib.UPnP.deviceTypes.ContentDirectory4]);return e?new WinJSContrib.UPnP.UPnPContentDirectory(e):void 0},WinJSContrib.UPnP.UPnPDevice.prototype.getConnectionManager=function(){var e=this.getService([WinJSContrib.UPnP.deviceTypes.ConnectionManager1,WinJSContrib.UPnP.deviceTypes.ConnectionManager2,WinJSContrib.UPnP.deviceTypes.ConnectionManager3]);return e?new WinJSContrib.UPnP.UPnPConnectionManager(e):void 0},WinJSContrib.UPnP.UPnPService=function(e,t){this.options=t||{debug:!1},this.svc=e,this.action=function(){},this.svcType=this.svc.serviceType,this.svcUrl=this.svc.url;var n=this;this.action=function(e,t,r){return new WinJS.Promise(function(i,s){r||"[object Function]"!=Object.prototype.toString.call(t)||(r=t,t={}),r&&"[object Function]"===Object.prototype.toString.call(r)||(r=function(){});var o=n.createRequest(n.svcType,e,t);n.sendRequest(n.svcType,e,n.svcUrl,o,function(o,a){return null!==o?(r.apply(n,[o,null]),void s(o)):void n.handleResponse(e,a.responseXML||"",t,function(e,t){r.apply(n,[e,t]),null!==e?s(e):i(t)})})})}},WinJSContrib.UPnP.UPnPService.prototype.constructor=WinJSContrib.UPnP.UPnPService,WinJSContrib.UPnP.UPnPService.prototype.requestTemplate='<?xml version="1.0" encoding="utf-8"?>\n<s:Envelope s:encodingStyle="http://schemas.xmlsoap.org/soap/encoding/" xmlns:s="http://schemas.xmlsoap.org/soap/envelope/">\n	<s:Body>\n		<u:{ACTION_NAME} xmlns:u="{ACTION_TYPE}">\n{ACTION_VARS}		</u:{ACTION_NAME}>\n	</s:Body>\n</s:Envelope>\n',WinJSContrib.UPnP.UPnPService.prototype.types={i1:function(e,t){var n=new Int8Array(1);return n[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(n[0],t)},i2:function(e,t){var n=new Int16Array(1);return n[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(n[0],t)},i4:function(e,t){var n=new Int32Array(1);return n[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(n[0],t)},ui1:function(e,t){var n=new Uint8Array(1);return n[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(n[0],t)},ui2:function(e,t){var n=new Uint16Array(1);return n[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(n[0],t)},ui4:function(e,t){var n=new Uint32Array(1);return n[0]=e,WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(n[0],t)},"int":function(e,t,n){return void 0===e||null===e||isNaN(e)?e=0:"number"!=typeof e&&(e=e===!0?1:parseInt(e+"",10)),n||(e=p(e+"")),isNaN(e)&&(e=0),WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t)},r4:function(e,t,n){var r=new Float32Array(1);return r[0]=e,n?WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r[0],t):r[0]?p(r[0]+""):"0"},r8:function(e,t,n){var r=new Float64Array(1);return r[0]=e,n?WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r[0],t):r[0]?p(r[0]+""):"0"},number:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types.r8(e,t,n)},fixed_14_4:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types["float"](e,t,n)},"float":function(e,t,n){var r=parseFloat(e);return n?WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(r,t):r?p(r+""):"0"},"char":function(e,t){return e=void 0===e||null===e||""===e||e+""=="NaN"||e instanceof RegExp?"":e===!1||e===!0||"true"==e||"yes"==e||"false"==e||"no"==e?e===!0||"true"==e||"yes"==e?"1":"0":e.toString(),e.length>0?(e=WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t),e.charAt(0)):e},string:function(e,t){return(void 0===e||null===e||""===e||e+""=="NaN"||e instanceof RegExp)&&(e=""),e+="",e=WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t)},xmlObj:function(e,t){(void 0===e||null===e||""===e||e+""=="NaN"||e instanceof RegExp)&&(e=""),e+="",e=WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t);try{for(var i=e.indexOf("&");i>0;){var s=e.indexOf(";",i);(0>s||s-i>5)&&(e=e.substr(0,i)+"&amp;"+e.substr(i+1,e.length-(i+1))),i=e.indexOf("&",i+1)}var o=r(e);return n(o)}catch(a){return console.error(a),e}},date:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types.dateTime(e,t,n)},dateTime:function(e,t,n){return n?"[object String]"==Object.prototype.toString.call(e)?(e=new Date(b(e)),isNaN(e)&&(e="")):"[object Date]"==Object.prototype.toString.call(e)&&(e=e):"[object String]"==Object.prototype.toString.call(e)?e+="":"[object Date]"==Object.prototype.toString.call(e)&&(e="Invalid Date"==e.toString()?"":e.toISOString()),e=WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t)},dateTime_tz:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types.dateTime(e,t,n)},time:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types.dateTime(e,t,n)},time_tz:function(e,t,n){return WinJSContrib.UPnP.UPnPService.prototype.types.dateTime(e,t,n)},"boolean":function(e,t,n){return e="false"==e||"f"==e||"no"==e||"n"==e||e instanceof RegExp||0>=e||!e?n?!1:"0":n?!0:"1"},bin_base64:function(e,t,n){return(void 0===e||null===e||""===e||e+""=="NaN"||e instanceof RegExp)&&(e=""),(e===!0||e===!1)&&(e=e===!0?"1":"0"),e=n?g(e+""):P(e+""),WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t)},bin_hex:function(e,t,n){return(void 0===e||null===e||""===e||e+""=="NaN"||e instanceof RegExp)&&(e=""),(e===!0||e===!1)&&(e=e===!0?"1":"0"),e=n?a(e+""):u(e+""),WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues(e,t)},uri:function(e,t,n){return n&&(e=decodeURI(e+"")),WinJSContrib.UPnP.UPnPService.prototype.types.string(e,t)},uuid:function(e,t){return WinJSContrib.UPnP.UPnPService.prototype.types.string(e,t)}};for(var c in WinJSContrib.UPnP.UPnPService.prototype.types)WinJSContrib.UPnP.UPnPService.prototype.types[c]._name=c,WinJSContrib.UPnP.UPnPService.prototype.types[c].toString=function(){return this._name};WinJSContrib.UPnP.UPnPService.prototype.createRequest=function(e,t,n){n=this.formatParameters(n),this.debugLog("Creating UPnP XML Control Message for ["+t+"] with parameters:"),this.debugLog(JSON?JSON.stringify(n):null);var r=this.requestTemplate.replace(/\{ACTION_TYPE\}/g,U(C(e)));r=r.replace(/\{ACTION_NAME\}/g,U(C(t)));var i=n.request,s="";if(i)for(var o in i){if(void 0!==i[o].type&&null!==i[o].type){var a=this.types[i[o].type];a&&(i[o].value=a(i[o].value,i[o].allowedValueList,!1))}(null===i[o].value||void 0===i[o].value)&&(i[o].value=""),s+="			<"+o+">"+U(C(i[o].value+""))+"</"+o+">\n"}return r=r.replace(/\{ACTION_VARS\}/g,s),this.debugLog("[REQUEST] (SOAPAction: "+e+"#"+t+") "+r),r},WinJSContrib.UPnP.UPnPService.prototype.sendRequest=function(e,t,n,i,s){var o='"'+e.replace(/[\"\#]/g,"")+"#"+t.replace(/[\"\#]/g,"")+'"',a=new Windows.Web.Http.HttpClient,u=new Windows.Foundation.Uri(n),p=new Windows.Web.Http.HttpRequestMessage(Windows.Web.Http.HttpMethod.post,u);return p.headers.append("SOAPACTION",o),p.content=new Windows.Web.Http.HttpStringContent(i,Windows.Storage.Streams.UnicodeEncoding.utf8,"text/xml"),a.sendRequestAsync(p).then(function(e){e.content.readAsStringAsync().then(function(e){var t=r(e),n={status:200,responseText:e,responseXML:t};s.apply(this,[null,n])})},function(){s.apply(void 0,[new l("XmlHttpRequest failed"),null])}),this},WinJSContrib.UPnP.UPnPService.prototype.handleResponse=function(e,t,n,r){n=this.formatParameters(n);var i=n.response,s={},o=t.getElementsByTagName?t.getElementsByTagName(e+"Response"):null;if((null===o||o.length<=0)&&(o=t.getElementsByTagName?t.getElementsByTagName("u:"+e+"Response"):null),null!==o&&o.length>0){var a=o[0].childNodes;if(a&&a.length>0)for(var u=0,p=a.length;p>u;u++){var c=a[u].nodeName,l=a[u].firstChild?C(m(a[u].firstChild.nodeValue+"")):null;if(i[c]&&void 0!==i[c].type&&null!==i[c].type){var y=this.types[i[c].type];y&&(l=y(l,i[c].allowedValueList||null,!0))}s[c]=void 0!==l&&null!==l?l:""}}return r.apply(void 0,[null,{data:s}]),this},WinJSContrib.UPnP.UPnPService.prototype.formatParameter=function(e){var t={};return void 0!==e.type||void 0!==e.value||void 0!==e.allowedValueList?(t=e,void 0!==e.allowedValueList&&"array"!=typeof e.allowedValueList&&(e.allowedValueList=[])):t={value:e},void 0!==t.type&&null!==t.type&&(this.types[t.type+""]||delete t.type),t},WinJSContrib.UPnP.UPnPService.prototype.formatParameters=function(e){(void 0===e||null===e)&&(e={}),e.request||(e.request={}),e.response||(e.response={});for(var t in e)if("request"===t||"response"===t)for(var n in e[t])e[t][n]=this.formatParameter(e[t][n]);else e.request[t]=this.formatParameter(e[t]),delete e[t];return e},WinJSContrib.UPnP.UPnPService.prototype.checkAllowedValues=function(e,t){if(e&&t&&"[object Array]"==Object.prototype.toString.call(t)){for(var n=!1,r=0,i=t.length;i>r;r++)if(e==t[r]){n=!0;break}if(!n)return""}return e},WinJSContrib.UPnP.UPnPService.prototype.debugLog=function(e,t){this.options&&this.options.debug&&console[t||"log"]("Plug.UPnP: "+e)};var l=function(e){return{description:e}},y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=function(e){for(var t={},n=0,r=e.length;r>n;n++)t[e.charAt(n)]=n;return t}(y),v=function(e){var t=[0,2,1][e.length%3],n=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),r=[y.charAt(n>>>18),y.charAt(n>>>12&63),t>=2?"=":y.charAt(n>>>6&63),t>=1?"=":y.charAt(63&n)];return r.join("")},d=function(e){var t=e.length,n=t%4,r=(t>0?h[e.charAt(0)]<<18:0)|(t>1?h[e.charAt(1)]<<12:0)|(t>2?h[e.charAt(2)]<<6:0)|(t>3?h[e.charAt(3)]:0),i=[String.fromCharCode(r>>>16),String.fromCharCode(r>>>8&255),String.fromCharCode(255&r)];return i.length-=[0,0,2,1][n],i.join("")},P=e.btoa||function(e){return e.replace(/[\s\S]{1,3}/g,v)},g=e.atob||function(e){return e.replace(/[\s\S]{1,4}/g,d)},f="0123456789abcdef",S=function(e){for(var t={},n=0,r=e.length;r>n;n++)t[n]=e.charAt(n);return t}(f),C=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},U=function(e){return e.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;").replace(/"/g,"&quot;")},m=function(e){return e.replace(/\&quot;/g,'"').replace(/\&\#39;/g,"'").replace(/\&gt;/g,">").replace(/\&lt;/g,"<").replace(/\&amp;/g,"&")},b=function(e){var t,n,r=0,i=[1,4,5,6,7,10,11];if("string"!=typeof e&&(e+=""),n=/^((\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?)?(?:[T\s]?(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{4}))?)?$/.exec(e)){n=n.slice(1,n.length);for(var s,o=0;s=i[o];++o)n[s]=+n[s]||0;n[2]=(+n[2]||1)-1,n[3]=+n[3]||1,"Z"!==n[8]&&void 0!==n[9]&&(r=60*(n[10]/100-n[10]/100%1)+n[10]%100,"+"===n[9]&&(r=0-r)),t=Date.UTC(n[1],n[2],n[3],n[4],n[5]+r,n[6],n[7])}else t=Date.parse?Date.parse(e):0/0;return t},I={"urn:schemas-upnp-org:service:ContentDirectory:1":!0,"urn:schemas-upnp-org:service:ContentDirectory:2":!0,"urn:schemas-upnp-org:service:ContentDirectory:3":!0,"urn:schemas-upnp-org:service:ContentDirectory:4":!0};WinJSContrib.UPnP.UPnPContentDirectory=function(e,t){return WinJSContrib.UPnP.UPnPService.apply(this,[e,t]),this.upnpType=e.serviceType,I[this.upnpType]?(this.getSystemUpdateId=function(e){return this.action("GetSystemUpdateID",{request:{},response:{Id:{type:this.types.ui4}}},e)},this.getSearchCapabilities=function(e){return this.action("GetSearchCapabilities",{request:{},response:{SearchCaps:{type:this.types.string}}},e)},this.getSortCapabilities=function(e){return this.action("GetSortCapabilities",{request:{},response:{SortCaps:{type:this.types.string}}},e)},this.browse=function(e,t,n,r,i,s,o){return this.action("Browse",{request:{ObjectID:{value:e||"0",type:this.types.string},BrowseFlag:{value:t||"BrowseDirectChildren",type:this.types.string},Filter:{value:n||"*",type:this.types.string},StartingIndex:{value:r||"0",type:this.types.ui4},RequestedCount:{value:i||"0",type:this.types.ui4},SortCriteria:{value:s,type:this.types.string}},response:{Result:{type:this.types.xmlObj},NumberReturned:{type:this.types.ui4},TotalMatches:{type:this.types.ui4},UpdateID:{type:this.types.ui4}}},o)},this.search=function(e,t,n,r,i,s,o){return this.action("Search",{request:{ObjectID:{value:e||"0",type:this.types.string},BrowseFlag:{value:t||"BrowseDirectChildren",type:this.types.string},Filter:{value:n||"*",type:this.types.string},StartingIndex:{value:r||"0",type:this.types.ui4},RequestedCount:{value:i||"0",type:this.types.ui4},SortCriteria:{value:s,type:this.types.string}},response:{Result:{type:this.types.xmlObj},NumberReturned:{type:this.types.ui4},TotalMatches:{type:this.types.ui4},UpdateID:{type:this.types.ui4}}},o)},"urn:schemas-upnp-org:service:ContentDirectory:2"===this.upnpType,"urn:schemas-upnp-org:service:ContentDirectory:3"===this.upnpType,void("urn:schemas-upnp-org:service:ContentDirectory:4"===this.upnpType)):void console.error("Provided service is not a UPnP Media Server Service")},WinJSContrib.UPnP.UPnPContentDirectory.prototype=Object.create(WinJSContrib.UPnP.UPnPService.prototype);var T={"urn:schemas-upnp-org:service:ConnectionManager:1":!0,"urn:schemas-upnp-org:service:ConnectionManager:2":!0,"urn:schemas-upnp-org:service:ConnectionManager:3":!0};WinJSContrib.UPnP.UPnPConnectionManager=function(e,t){return WinJSContrib.UPnP.UPnPService.apply(this,[e,t]),this.upnpType=e.serviceType,T[this.upnpType]?(this.getCurrentConnectionIDs=function(e){return this.action("GetCurrentConnectionIDs",{request:{},response:{ConnectionIDs:{type:this.types.string}}},e)},this.getCurrentConnectionInfo=function(e,t){return this.action("GetCurrentConnectionInfo",{request:{ConnectionID:{value:e,type:this.types.ui4}},response:{RcsID:{type:this.types.i4},AVTransportID:{type:this.types.i4},ProtocolInfo:{type:this.types.string},PeerConnectionManager:{type:this.types.string},PeerConnectionID:{type:this.types.i4},Direction:{type:this.types.string},Status:{type:this.types.string}}},t)},this.getProtocolInfo=function(e){return this.action("GetProtocolInfo",{request:{},response:{Source:{type:this.types.string},Sink:{type:this.types.string}}},e)},void("urn:schemas-upnp-org:service:ConnectionManager:2"===this.upnpType)):void console.error("Provided service is not a UPnP Service")},WinJSContrib.UPnP.UPnPConnectionManager.prototype=Object.create(WinJSContrib.UPnP.UPnPService.prototype);var V={"urn:schemas-upnp-org:service:AVTransport:1":!0,"urn:schemas-upnp-org:service:AVTransport:2":!0};WinJSContrib.UPnP.UPnPAVTransport=function(e,t){return WinJSContrib.UPnP.UPnPService.apply(this,[e,t]),this.upnpType=e.serviceType,V[this.upnpType]?(this.getDeviceCapabilities=function(e,t){return this.action("GetDeviceCapabilities",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{PlayMedia:{type:this.types.string},RecMedia:{type:this.types.string},RecQualityModes:{type:this.types.string}}},t)},this.getMediaInfo=function(e,t){return this.action("GetMediaInfo",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{NrTracks:{type:this.types.ui4},MediaDuration:{type:this.types.string},CurrentURI:{type:this.types.string},CurrentURIMetaData:{type:this.types.string},NextURI:{type:this.types.string},NextURIMetaData:{type:this.types.string},PlayMedium:{type:this.types.string},RecordMedium:{type:this.types.string},WriteStatus:{type:this.types.string}}},t)},this.getPositionInfo=function(e,t){return this.action("GetPositionInfo",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{Track:{type:this.types.ui4},TrackDuration:{type:this.types.string},TrackMetaData:{type:this.types.xmlObj},TrackURI:{type:this.types.string},RelTime:{type:this.types.string},AbsTime:{type:this.types.string},RelCount:{type:this.types.i4},AbsCount:{type:this.types.i4}}},t)},this.getTransportInfo=function(e,t){return this.action("GetTransportInfo",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{CurrentTransportState:{type:this.types.string},CurrentTransportStatus:{type:this.types.string},CurrentSpeed:{type:this.types.string}}},t)},this.getTransportSettings=function(e,t){return this.action("GetTransportSettings",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{PlayMode:{type:this.types.ui4},RecQualityMode:{type:this.types.string}}},t)},this.setAVTransportURI=function(e,t,n,r){return this.action("SetAVTransportURI",{request:{InstanceID:{value:e,type:this.types.ui4},CurrentURI:{value:t,type:this.types.string},CurrentURIMetaData:{value:n,type:this.types.string}},response:{}},r)},this.play=function(e,t,n){return this.action("Play",{request:{InstanceID:{value:e,type:this.types.ui4},Speed:{value:t||"1",type:this.types.string}},response:{}},n)},this.pause=function(e,t){return this.action("Pause",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{}},t)},this.stop=function(e,t){return this.action("Stop",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{}},t)},this.next=function(e,t){return this.action("Next",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{}},t)},this.previous=function(e,t){return this.action("Previous",{request:{InstanceID:{value:e,type:this.types.ui4}},response:{}},t)},this.seek=function(e,t,n,r){return this.action("Seek",{request:{InstanceID:{value:e,type:this.types.ui4},Unit:{value:t,type:this.types.string},Target:{value:n,type:this.types.string}},response:{}},r)},void("urn:schemas-upnp-org:service:AVTransport:2"===this.upnpType)):void console.error("Provided service is not a UPnP Media Renderer Service")},WinJSContrib.UPnP.UPnPAVTransport.prototype=Object.create(WinJSContrib.UPnP.UPnPService.prototype);var D={"urn:schemas-upnp-org:service:RenderingControl:1":!0,"urn:schemas-upnp-org:service:RenderingControl:2":!0,"urn:schemas-upnp-org:service:RenderingControl:3":!0};WinJSContrib.UPnP.UPnPRenderingControl=function(e,t){return WinJSContrib.UPnP.UPnPService.apply(this,[e,t]),this.upnpType=e.serviceType,D[this.upnpType]?(this.listPresets=function(e,t){return this.action("ListPresets",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentPresetNameList:{type:this.types.string}}},t)},this.selectPreset=function(e,t,n){return this.action("SelectPreset",{request:{InstanceId:{value:e,type:this.types.ui4},PresetName:{value:t||"FactoryDefaults",type:this.types.string}}},n)},this.getBrightness=function(e,t){return this.action("GetBrightness",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentBrightness:{type:this.types.ui2}}},t)},this.setBrightness=function(e,t,n){return this.action("SetBrightness",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredBrightness:{value:t,type:this.types.ui2}}},n)},this.getContrast=function(e,t){return this.action("GetContrast",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentContrast:{type:this.types.ui2}}},t)},this.setContrast=function(e,t,n){return this.action("SetContrast",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredContrast:{value:t,type:this.types.ui2}}},n)},this.getSharpness=function(e,t){return this.action("GetSharpness",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentSharpness:{type:this.types.ui2}}},t)},this.setSharpness=function(e,t,n){return this.action("SetSharpness",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredSharpness:{value:t,type:this.types.ui2}}},n)},this.getRedVideoGain=function(e,t){return this.action("GetRedVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentRedVideoGain:{type:this.types.ui2}}},t)},this.setRedVideoGain=function(e,t,n){return this.action("SetRedVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredRedVideoGain:{value:t,type:this.types.ui2}}},n)},this.getGreenVideoGain=function(e,t){return this.action("GetGreenVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentGreenVideoGain:{type:this.types.ui2}}},t)},this.setGreenVideoGain=function(e,t,n){return this.action("SetGreenVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredGreenVideoGain:{value:t,type:this.types.ui2}}},n)},this.getBlueVideoGain=function(e,t){return this.action("GetBlueVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentBlueVideoGain:{type:this.types.ui2}}},t)},this.setBlueVideoGain=function(e,t,n){return this.action("SetBlueVideoGain",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredBlueVideoGain:{value:t,type:this.types.ui2}}},n)},this.getRedVideoBlackLevel=function(e,t){return this.action("GetRedVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentRedVideoBlackLevel:{type:this.types.ui2}}},t)},this.setRedVideoBlackLevel=function(e,t,n){return this.action("SetRedVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredRedVideoBlackLevel:{value:t,type:this.types.ui2}}},n)},this.getGreenVideoBlackLevel=function(e,t){return this.action("GetGreenVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentGreenVideoBlackLevel:{type:this.types.ui2}}},t)},this.setGreenVideoBlackLevel=function(e,t,n){return this.action("SetGreenVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredGreenVideoBlackLevel:{value:t,type:this.types.ui2}}},n)},this.getBlueVideoBlackLevel=function(e,t){return this.action("GetBlueVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentBlueVideoBlackLevel:{type:this.types.ui2}}},t)},this.setBlueVideoBlackLevel=function(e,t,n){return this.action("SetBlueVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredBlueVideoBlackLevel:{value:t,type:this.types.ui2}}},n)},this.getBlueVideoBlackLevel=function(e,t){return this.action("GetBlueVideoBlackLevel",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentBlueVideoBlackLevel:{type:this.types.ui2}}},t)},this.getColorTemperature=function(e,t){return this.action("GetColorTemperature",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentColorTemperature:{type:this.types.ui2}}},t)},this.setColorTemperature=function(e,t,n){return this.action("SetColorTemperature",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredColorTemperature:{value:t,type:this.types.ui2}}},n)},this.getHorizontalKeystone=function(e,t){return this.action("GetHorizontalKeystone",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentHorizontalKeystone:{type:this.types.i2}}},t)},this.setHorizontalKeystone=function(e,t,n){return this.action("SetHorizontalKeystone",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredHorizontalKeystone:{value:t,type:this.types.i2}}},n)},this.getVerticalKeystone=function(e,t){return this.action("GetVerticalKeystone",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentVerticalKeystone:{type:this.types.i2}}},t)},this.setVerticalKeystone=function(e,t,n){return this.action("SetVerticalKeystone",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredVerticalKeystone:{value:t,type:this.types.i2}}},n)},this.getMute=function(e,t,n){return this.action("GetMute",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string}},response:{CurrentMute:{type:this.types["boolean"]}}},n)},this.setMute=function(e,t,n,r){return this.action("SetMute",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string},DesiredMute:{value:n,type:this.types["boolean"]}}},r)},this.getVolume=function(e,t,n){return this.action("GetVolume",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string}},response:{CurrentVolume:{type:this.types.ui2}}},n)},this.setVolume=function(e,t,n,r){return this.action("SetVolume",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string},DesiredVolume:{value:n,type:this.types.ui2}}},r)},this.getVolumeDB=function(e,t,n){return this.action("GetVolumeDB",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string}},response:{CurrentVolume:{type:this.types.i2}}},n)},this.setVolumeDB=function(e,t,n,r){return this.action("SetVolumeDB",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string},DesiredVolume:{value:n,type:this.types.i2}}},r)},this.getVolumeDBRange=function(e,t,n){return this.action("GetVolumeDBRange",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string}},response:{MinValue:{type:this.types.i2},MaxValue:{type:this.types.i2}}},n)},this.getLoudness=function(e,t,n){return this.action("GetLoudness",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string}},response:{CurrentLoudness:{type:this.types["boolean"]}}},n)},this.setLoudness=function(e,t,n,r){return this.action("SetLoudness",{request:{InstanceId:{value:e,type:this.types.ui4},Channel:{value:t||"Master",type:this.types.string},DesiredLoudness:{value:n,type:this.types["boolean"]}}},r)},("urn:schemas-upnp-org:service:RenderingControl:2"===this.upnpType||"urn:schemas-upnp-org:service:RenderingControl:3"===this.upnpType)&&(this.getStateVariables=function(e,t,n){return this.action("GetStateVariables",{request:{InstanceId:{value:e,type:this.types.ui4},StateVariableList:{value:t,type:this.types.string}},response:{StateVariableValuePairs:{type:this.types.string}}},n)},this.setStateVariables=function(e,t,n,r,i,s){return this.action("SetStateVariables",{request:{InstanceId:{value:e,type:this.types.ui4},RenderingControlUDN:{value:t,type:this.types.string},ServiceType:{value:n,type:this.types.string},ServiceId:{value:r,type:this.types.string},StateVariableValuePairs:{value:i,type:this.types.string}},response:{StateVariableList:{type:this.types.string}}},s)}),void("urn:schemas-upnp-org:service:RenderingControl:3"===this.upnpType&&(this.getAllowedTransforms=function(e,t){return this.action("GetAllowedTransforms",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentAllowedTransformSettings:{type:this.types.string}}},t)},this.getTransforms=function(e,t){return this.action("GetTransforms",{request:{InstanceId:{value:e,type:this.types.ui4}},response:{CurrentTransformValues:{type:this.types.string}}},t)},this.setTransforms=function(e,t,n){return this.action("SetTransforms",{request:{InstanceId:{value:e,type:this.types.ui4},DesiredTransformValues:{value:t,type:this.types.string}}},n)},this.getAllAvailableTransforms=function(e,t){return this.action("GetAllAvailableTransforms",{response:{AllAllowedTransformSettings:{type:this.types.string}}},t)
},this.getAllowedDefaultTransforms=function(e,t){return this.action("GetAllowedDefaultTransforms",{response:{AllowedDefaultTransformSettings:{type:this.types.string}}},t)},this.getDefaultTransforms=function(e,t){return this.action("GetDefaultTransforms",{response:{CurrentDefaultTransformSettings:{type:this.types.string}}},t)},this.setDefaultTransforms=function(e,t,n){return this.action("SetDefaultTransforms",{request:{DesiredDefaultTransformSettings:{value:t,type:this.types.string}}},n)}))):void console.error("Provided service is not a UPnP Media Renderer Service")},WinJSContrib.UPnP.UPnPRenderingControl.prototype=Object.create(WinJSContrib.UPnP.UPnPService.prototype)}(window);