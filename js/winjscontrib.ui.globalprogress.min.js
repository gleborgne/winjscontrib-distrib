!function(){"use strict";WinJS.Namespace.define("WinJSContrib.UI",{GlobalProgress:WinJS.Class.define(function(t,e){var i=this;e=e||{},i.element=t||document.createElement("div"),i.throttlingDelay=void 0!=e.delay?e.delay:200,i.isVisible=!1,i.refCount=0,WinJSContrib.UI.Application=WinJSContrib.UI.Application||{},e.global&&(WinJSContrib.UI.Application.progress=i),i.element.className="mcn-globalprogress-ctrl "+t.className,WinJSContrib.CrossPlatform&&WinJSContrib.CrossPlatform.crossPlatformClass&&WinJSContrib.CrossPlatform.crossPlatformClass(i.element),i.element.style.display="none",i.element.style.opacity="0",t.innerHTML='<div class="mcn-globalprogress-content"><progress class="bar"></progress><div class="mcn-globalprogress-text">'+(e.text||"")+"</div></div>"},{show:function(t){var e=this;return e.isVisible||e.throttling?void(e.refCount=e.refCount+1):void(0==t?e.showNow():this.throttling=setTimeout(e.showNow.bind(this),t||e.throttlingDelay))},showNow:function(){var t=this;t.refCount=t.refCount+1,t.isVisible||(t.element.style.display="",WinJS.UI.Animation.fadeIn(t.element),t.isVisible=!0)},hide:function(t){var e=this;t&&(e.refCount=0),e.refCount>0&&(e.refCount=e.refCount-1),e.throttling&&(clearTimeout(e.throttling),e.throttling=void 0),0==e.refCount&&(e.isVisible=!1,WinJS.UI.Animation.fadeOut(e.element).done(function(){e.element.style.display="none"}))}})})}();