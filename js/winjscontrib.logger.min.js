var WinJSContrib=WinJSContrib||{};WinJSContrib.Logging=WinJSContrib.Logging||{},WinJSContrib.Logging.Appenders=WinJSContrib.Logging.Appenders||{},function(){"use strict";WinJSContrib.Logging.Levels={off:0,error:1,warn:2,info:4,debug:8,all:15};var n=WinJSContrib.Logging.Levels,o={level:WinJSContrib.Logging.Levels.all,displayLevelInMessage:!1,displayGroupInMessage:!0,plugToWinJSLog:!1,appenders:[]};WinJSContrib.Logging.Loggers={},WinJSContrib.Logging.getLogger=function(n,e){var g=WinJSContrib.Logging.Loggers[n];if(g?e&&(g.config=e):(g=new WinJSContrib.Logging.LoggerClass(e||o),g.name=n,WinJSContrib.Logging.Loggers[n]=g),arguments.length>2)for(var i=2;i<arguments.length;i++)g.addAppender(arguments[i]);return g},WinJSContrib.Logging.LoggerClass=function(n){this.appenders=[],this.config=n||o,this.initWinJSLog()},Object.defineProperty(WinJSContrib.Logging.LoggerClass.prototype,"Config",{get:function(){return this.config},set:function(n){n=n||{},"number"==typeof n.level&&(this.config.level=n.level),"boolean"==typeof n.displayLevelInMessage&&(this.config.displayLevelInMessage=n.displayLevelInMessage),"boolean"==typeof n.displayGroupInMessage&&(this.config.displayGroupInMessage=n.displayGroupInMessage),"boolean"==typeof n.plugToWinJSLog&&(this.config.plugToWinJSLog=n.plugToWinJSLog),this.initWinJSLog()}}),WinJSContrib.Logging.LoggerClass.prototype.addAppender=function(n){n.logger=this,n.format||(n.format=this.format.bind(this)),this.appenders.push(n)},WinJSContrib.Logging.LoggerClass.prototype.log=function(n,o,e){this.config.level!==WinJSContrib.Logging.Levels.off&&this.appenders&&this.appenders.length&&("string"==typeof e&&(e=this.loggingLevelStringToEnum(e)),("undefined"==typeof e||null===e)&&(e=WinJSContrib.Logging.Levels.debug),(e&this.config.level)===e&&this.appenders.forEach(function(g){g.log(n,o,e)}))},WinJSContrib.Logging.LoggerClass.prototype.format=function(n,o,e){var g="";return this.config.displayLevelInMessage&&(g+=this.logginLevelToString(e)+" - "),this.config.displayGroupInMessage&&o&&(g+=o+": "),g+=n},WinJSContrib.Logging.LoggerClass.prototype.debug=function(n,o){this.log(n,o,WinJSContrib.Logging.Levels.debug)},WinJSContrib.Logging.LoggerClass.prototype.info=function(n,o){this.log(n,o,WinJSContrib.Logging.Levels.info)},WinJSContrib.Logging.LoggerClass.prototype.warn=function(n,o){this.log(n,o,WinJSContrib.Logging.Levels.warn)},WinJSContrib.Logging.LoggerClass.prototype.error=function(n,o){this.log(n,o,WinJSContrib.Logging.Levels.error)},WinJSContrib.Logging.LoggerClass.prototype.group=function(n){this.appenders.forEach(function(o){o.group&&o.group(n)})},WinJSContrib.Logging.LoggerClass.prototype.groupCollapsed=function(n){this.appenders.forEach(function(o){o.groupCollapsed&&o.groupCollapsed(n)})},WinJSContrib.Logging.LoggerClass.prototype.groupEnd=function(){this.appenders.forEach(function(n){n.groupEnd&&n.groupEnd()})},WinJSContrib.Logging.LoggerClass.prototype.initWinJSLog=function(){WinJS.log=this.config.plugToWinJSLog?Logger.log:null},WinJSContrib.Logging.LoggerClass.prototype.loggingLevelStringToEnum=function(o){switch(o.toLowerCase()){default:case"log":case"debug":return n.debug;case"info":return n.info;case"warn":return n.warn;case"error":return n.error}},WinJSContrib.Logging.LoggerClass.prototype.logginLevelToString=function(o){switch(o){default:case n.debug:return"DEBUG";case n.info:return"INFO";case n.warn:return"WARN";case n.error:return"ERROR"}},WinJSContrib.Logging.LoggerClass.prototype.getChildLogger=function(n,o){var e=WinJSContrib.Logging.getLogger(this.name+"."+n,JSON.parse(JSON.stringify(this.config)));return e.config.appenders=[],this.appenders.forEach(function(n){n.clone&&e.addAppender(n.clone())}),o&&(e.config.level=o),e},WinJSContrib.Logging.Appenders.ConsoleAppender=function(n){this.config=n},WinJSContrib.Logging.Appenders.ConsoleAppender.prototype.clone=function(){return new WinJSContrib.Logging.Appenders.ConsoleAppender(this.config)},WinJSContrib.Logging.Appenders.ConsoleAppender.prototype.log=function(o,e,g){switch(g){case n.debug:return console.log(this.format(o,e,g));case n.info:return console.info(this.format(o,e,g));case n.warn:return console.warn(this.format(o,e,g));case n.error:return console.error(this.format(o,e,g))}},WinJSContrib.Logging.Appenders.ConsoleAppender.prototype.group=function(n){console.group(n)},WinJSContrib.Logging.Appenders.ConsoleAppender.prototype.groupCollapsed=function(n){console.groupCollapsed(n)},WinJSContrib.Logging.Appenders.ConsoleAppender.prototype.groupEnd=function(){console.groupEnd()},WinJSContrib.Logger=WinJSContrib.Logging.getLogger("root",o),WinJSContrib.Logger.addAppender(new WinJSContrib.Logging.Appenders.ConsoleAppender)}();