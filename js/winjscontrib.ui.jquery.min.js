/* 
 * WinJS Contrib v2.1.0.0
 * licensed under MIT license (see http://opensource.org/licenses/MIT)
 * sources available at https://github.com/gleborgne/winjscontrib
 */

function HSL(n,t,i){var e={h:n,s:t,l:i,addH:function(n){this.h=this.h+n},addS:function(n){this.s=this.s+n},addL:function(n){this.l=this.l+n},toString:function(){return"hsl("+this.h+","+this.s+"%, "+this.l+"%)"},clone:function(n,t,i){var e=new HSL(this.h,this.s,this.l);return e.addH(n),e.addS(t),e.addL(i),e}};return e}var WinJSContrib=WinJSContrib||{};WinJSContrib.UI=WinJSContrib.UI||{},WinJSContrib.Utils=WinJSContrib.Utils||{},function(n){n.fn.winControl=function(){return this[0].winControl}}(jQuery),function(n){n.fn.tap=function(n,t){return this.each(function(){WinJSContrib.UI.tap(this,n,t)})},n.fn.untap=function(){return this.each(function(){WinJSContrib.UI.untap(this)})},jQuery.fn.hatchShow=function(){n(".hsjs").css("visibility","hidden").css("font-size","").css("display","inner-block").css("white-space","pre").each(function(){var t=n(this),i=t.parent();i.hasClass("hatchshow_temp")?i=i.parent():t.wrap("<span class='hatchshow_temp' style='display:block'>");var e=i.width();for(t.width();t.width()<e;){var r=t.fontSize();if(r>200)break;t.css("font-size",r+1+"px"),function(){for(;t.width()>e;){var n=t.fontSize();if(8>n)break;t.css("font-size",n-.1+"px")}}}}).hide().css("visibility","").fadeIn()},jQuery.fn.fontSize=function(){return parseInt(n(this).css("font-size").replace("px",""))}}(jQuery),function(n){n.fn.pressEnterDefaultTo=function(t,i){return this.each(function(){var e=n(this);e.keypress(function(e){var r=e.which?e.which:e.keyCode;if(13==r){var o=i?n(t,i):n(t);jQuery(this).blur(),e.preventDefault(),e.stopPropagation(),o[0].mcnTapTracking&&o[0].mcnTapTracking.callback&&o[0].mcnTapTracking.callback(o[0]),o.focus().click()}})})},n.fn.onPressEnter=function(t){return this.each(function(){var i=n(this);i.keypress(function(n){var i=n.which?n.which:n.keyCode;13==i&&(jQuery(this).blur(),n.preventDefault(),t&&t())})})},n.fn.throttleTextChanged=function(t,i){return this.each(function(){var e=this,r=n(this),o=e.value;r.keydown(function(){clearTimeout(e.mcnTxtThrottling),e.mcnTxtThrottling=setTimeout(function(){o=e.value,i(e,e.value)},t)}),r.blur(function(){o!=e.value&&(o=e.value,i(e,e.value))})})}}(jQuery),function(n){n.fn.transitionProperties=function(t,i,e){var r=n(this);return new WinJS.Promise(function(n,o){var s=t+" "+i+"ms ease-out",a=r.css("transition",s);e&&e(a),a.delay(i+10).promise().done(function(){r.css("-ms-transition",""),n(a)},function(){r.css("-ms-transition",""),o(a)})})}}(jQuery),function(n){n.fn.toWinJSPromise=function(){return new WinJS.Promise(function(n,t){var i=this.promise().done(function(){n(i)},function(){t(i)})})}}(jQuery),function(n){n.fn.renderWith=function(t,i){var e=n(t).get(0);return e&&(e=e.winControl),this.each(function(){var t=n(this);e&&e.render(null,i).done(function(n){t.append(n.children[0])})})}}(jQuery),function(n){n.fn.renderWithEach=function(t,i,e){var r=n(t).get(0);return r&&(r=r.winControl),this.each(function(){var t=n(this);r&&i.forEach(function(n){r.render(null,n).done(function(i){var r=i.children[0];t.append(r),e&&e(n,r)})})})}}(jQuery),function(n){n.fn.scrollInView=function(t){var i=Windows.UI.ViewManagement.ApplicationView.value,e=!0;return(i===Windows.UI.ViewManagement.ApplicationViewState.snapped||i===Windows.UI.ViewManagement.ApplicationViewState.fullScreenPortrait)&&(e=!1),this.each(function(){n(this);e?this.offsetParent.scrollLeft=this.offsetLeft-(t?t:0):this.offsetParent.scrollTop=this.offsetTop-(t?t:0)})}}(jQuery),function(n){n.fn.scrollInParentView=function(n){var t=Windows.UI.ViewManagement.ApplicationView.value,i=!0;return(t===Windows.UI.ViewManagement.ApplicationViewState.snapped||t===Windows.UI.ViewManagement.ApplicationViewState.fullScreenPortrait)&&(i=!1),this.each(function(){i?this.offsetParent.offsetParent.scrollLeft=this.offsetLeft-(n?n:0):this.offsetParent.offsetParent.scrollTop=this.offsetTop-(n?n:0)})}}(jQuery),function(n){n.fn.loadedPromises=function(t){var i=[];return this.each(function(){var e=(n(this),this),r=new WinJS.Promise(function(n,i){function r(n){e.removeEventListener("error",r),e.removeEventListener("load",o),i({message:"element not loaded",elt:n.currentTarget})}function o(){e.removeEventListener("error",r),e.removeEventListener("load",o),n(e),t&&t(e)}e.addEventListener("error",r),e.addEventListener("load",o,!1),e.naturalWidth>0&&o()});i.push(r)}),i},n.fn.whenLoaded=function(n){var t=this.loadedPromises();return n?void WinJS.Promise.join(t).done(function(t){n(t)}):WinJS.Promise.join(t)},n.fn.afterTransition=function(n,t){var i=[],e=!1;this.each(function(){var n=this,e=new WinJS.Promise(function(i){var e=function(t){t.srcElement===n&&r()},r=function(){clearTimeout(timeOutRef),n.removeEventListener("transitionend",e,!1),i()};n.addEventListener("transitionend",e,!1),timeOutRef=setTimeout(r,t||1e3)});i.push(e)});var r=null,o=null,s=new WinJS.Promise(function(n,t){r=n,o=t}),a=WinJS.Promise.join(i);return a.done(function(){return e?(a.cancel(),void o()):(e=!0,n&&n(),void r())},o),s},n.fn.afterAnimation=function(n){var t=[];return this.each(function(){var n=this,i=new WinJS.Promise(function(t){function i(e){e.srcElement===currentElement&&(n.removeEventListener("animationend",i),t())}n.addEventListener("animationend",i)});t.push(i)}),WinJS.Promise.join(t).done(function(){n&&n()}),this},n.fn.classBasedAnimation=function(t){return this.each(function(){var i=this;n(i).afterAnimation(function(){n(i).removeClass(t)}),n(i).addClass(t)})}}(jQuery);